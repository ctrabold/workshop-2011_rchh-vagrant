<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Share Vagrant Love</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/style.css" type="text/css"/>
  

  
    <script type="text/javascript" src="file/scripts.js"></script>
  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content front" ref="intro/01_slide/1">
<p><img src="./file/intro/vagrant_chilling.png" alt="Vagrant"/></p>

<h1>30 developers <br/>and one Vagrant</h1>

<p>A personal love story</p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="intro/01_slide/2">
<h1>Who's that Speaker?</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="intro/01_slide/3">
<h1>Christian Trabold</h1>

<p>Developer in Frankfurt, Germany<br/>
Tags: <em>Deployment, Devops, TYPO3</em></p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="intro/01_slide/4">
<h1>Who's that Vagrant?</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="intro/01_slide/5">
<h1>Rubygem for managing<br/> Virtual Machines</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="intro/01_slide/6">
<h1>VirtualBox-API</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="intro/01_slide/7">
<h1>VirtualBox-API</h1>

<h1>+ Config Management</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="intro/01_slide/8">
<h1>VirtualBox-API</h1>

<h1>+ Config Management</h1>

<h1><strong>= SuperPowers!</strong></h1></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="challenge/01_slide/1">
<h1>Challenge</h1></div>
</div><div class="slide" data-transition="none"><div class="content center bullets incremental" ref="challenge/01_slide/2">
<h1>Improve deployment</h1>

<ul>
<li>30 Developers</li>
<li>5 different Teams</li>
<li>Many active Projects</li>
<li>Many different customer "standards"</li>
<li><em>Debian, Ubuntu, Centos &#x2026; <em>Yeah!</em></em></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content center bullets incremental" ref="challenge/01_slide/3">
<h1>Setting up a DEV machine</h1>

<ul>
<li>was HARD</li>
<li>Took hours to days</li>
<li>Required <em>lots</em> of support</li>
<li>A massive <em>Human-lifetime-destroyer</em></li>
<li>and the result was still <em>unpredictable</em></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="challenge/01_slide/4">
<h1><em>We need a standard!</em></h1></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="philosophy/01_slide/1">
<h1>First step:<br/> Destroy handbooks!</h1>

<p>Make documentation <em>executable</em></p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="philosophy/01_slide/2">
<h1>Shell scripts are not the solution</h1>

<p>Don't try to make your shell scripts more flexible</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="philosophy/01_slide/3">
<h1>Learn Chef or Puppet</h1>

<p>Flexible out-of-the-box</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="philosophy/01_slide/4">
<h1>Don't build <em>production-like</em> environments</h1>

<p>Forget MacPorts, Homebrew and friends for real DEV</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="philosophy/01_slide/5">
<h1>Get real with Virtualization!</h1></div>
</div><div class="slide" data-transition="none"><div class="content center bullets incremental" ref="philosophy/01_slide/6">
<h1>Now setup is much faster</h1>

<p>On a Mac</p>

<ul>
<li>~ 1 hour for initial setup eg. XCode</li>
<li>15 minutes to join development</li>
<li>And the result is 100% predictable</li>
<li>for <em>each</em> customer</li>
<li>for <em>each</em> operation system</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="install/01_slide/1">
<h1>Installation</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/2">
<h1>Download VirtualBox</h1>

<p><a href="http://www.virtualbox.org">http://www.virtualbox.org</a></p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/3">
<h1>Install Vagrant</h1>

<pre><code>$ (sudo) gem install vagrant
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/4">
<h1>Add a basebox</h1>

<pre><code>$ vagrant box add basebox \
  http://files.vagrantup.com/lucid64.box
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/5">
<h1>Basebox = Mother of all VMs</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/6">
<h1>Each Virtual Machine <br/>is based on a basebox</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/7">
<h1>Initialize workspace</h1>

<pre><code>$ cd ~/workspace
$ vagrant init basebox
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/8">
<h1>Customize Vagrantfile</h1>

<pre class="sh_ruby"><code>$ cat ./Vagrantfile
Vagrant::Config.run do |config|
  config.vm.box = "basebox"
  config.vm.network "192.168.56.10"
  config.vm.forward_port "http", 3000, 3000
  config.vm.share_folder "v-data", "/data", "../data"
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/9">
<h1>Start up a Virtual Machine</h1>

<pre class="sh_ruby"><code>vagrant up</code></pre>

<p class="notes">Share code with rsync or shared folders
.notes vagrant ssh connects through NAT to the VM</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/10">
<h1>Log in</h1>

<pre class="sh_ruby"><code>vagrant ssh</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/11">
<h1>et voil&#xE1;!</h1>

<p>You got your VirtualMachine up and running!</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/12">
<h1>Deploy code eg. with Capistrano</h1>

<pre class="sh_bash"><code> cap deploy</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/13">
<h1>or shared folders</h1>

<pre class="sh_ruby"><code>$ cat ./Vagrantfile
Vagrant::Config.run do |config|
  config.vm.share_folder "v-data", "/data", "../data"
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/14">
<h1>Use port forwarding</h1>

<pre class="sh_ruby"><code>$ cat ./Vagrantfile
Vagrant::Config.run do |config|
  config.vm.forward_port "http", 3000, 3000
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/15">
<h1>Or enter a static IP</h1>

<pre class="sh_ruby"><code>$ cat ./Vagrantfile
Vagrant::Config.run do |config|
  config.vm.network "192.168.56.10"
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="install/01_slide/16">
<h1>Next steps</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/17">
<h1>Customize VMs</h1>

<p>eg. with Chef cookbooks</p>

<pre class="sh_ruby"><code>$ cat ./Vagrantfile
&#x2026;
config.vm.provision :chef_solo do |chef|
  chef.cookbooks_path = "cookbooks"
  chef.add_recipe "rails"
  chef.add_role "web"
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/18">
<h1>Run Chef on the VM</h1>

<pre><code>$ vagrant provision
</code></pre>

<p class="notes">This runs chef-solo</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/19">
<h1>Share a VM with colleagues</h1>

<pre class="sh_ruby"><code>$ vagrant box repackage mybasebox</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/20">
<h1>Create your <br/><em>own</em> baseboxes</h1>

<pre class="sh_ruby"><code>$ gem install veewee
$ vagrant basebox define \
  'mybasebox' \
  'ubuntu-10.10-server-i386'</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/21">
<h1>Share / search baseboxes</h1>

<p><a href="http://vagrantbox.es">http://vagrantbox.es</a></p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="install/01_slide/22">
<h1>Excellent documentation</h1>

<p><a href="http://vagrantup.com/docs/">http://vagrantup.com/docs/</a></p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="lessons_learned/01_slide/1">
<h1>Lessons learned</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/2">
<h1>You have to learn a lot:</h1>

<ul>
<li>Understand OS &amp; Network</li>
<li>Write cookbooks</li>
<li>Distribute Vagrant boxes</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="lessons_learned/01_slide/3">
<h1>Changing behavior <em>is difficult</em></h1>

<p class="notes">These simple steps will change the way we develop. And that's the hard part:</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/4">
<h1>Devs have to learn Ops stuff</h1>

<p class="notes">Devs have their way of setup</p>

<p class="notes">When talking to management, marketing, sysadmins, other developers really strange things happen.</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/5">
<h1>Ops have to learn Dev stuff</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/6">
<h1>Grows DevOps culture</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/7">
<h1>&#x2026; but it takes a while :)</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/8">
<h1>Create Prototypes</h1>

<p>A working example is worth 1000 discussions</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/9">
<h1>Workshops</h1>

<p>Involve people as much as possible!</p>

<p class="notes">Sharing is caring</p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="lessons_learned/01_slide/10">
<h1>Other common issues</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/11">
<h1>Slow Hardware</h1>

<p>4VMs parallel = hot!</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/12">
<h1>Heavy Assets</h1>

<p>~10 GB</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/13">
<h1>Networking fails</h1>

<p>/etc/resolv.conf #wtf</p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="lessons_learned/01_slide/14">
<h1>Solutions</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/15">
<h1>Upgrade your machines</h1>

<p>RAM and HDs are cheap</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/16">
<h1>Extend to the Cloud</h1>

<p><a href="https://github.com/jedi4ever/mccloud">https://github.com/jedi4ever/mccloud</a></p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/17">
<h1>Ask Ops for Networking issues</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="lessons_learned/01_slide/18">
<h1>&#x2026; or ask @DEVOPS_BORAT</h1></div>
</div><div class="slide" data-transition="none"><div class="content center" ref="lessons_learned/01_slide/19">
<p><img src="./file/lessons_learned/devops_borrat.jpg" alt="Borrat"/></p>

<p><em>Maybe is not work because <br/>you are use wrong Unicorn encoding?</em></p>

<p>@DEVOPS_BORAT</p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="future/01_slide/1">
<h1>The future</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="future/01_slide/2">
<h1>For me Vagrant is</h1>

<h1><strong>THE</strong> DevOps Tool</h1>

<p>A perfect playground for new ideas<br/>
eg. testing Chef cookbooks</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="future/01_slide/3">
<h1>Testing Production <br/>is now <strong>much</strong> easier</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="future/01_slide/4">
<h1>Focus on new challenges</h1>

<p>Continuous Delivery, Testing Infrastructure</p></div>
</div><div class="slide" data-transition="none"><div class="content new-chapter center" ref="thank_you/01_slide/1">
<h1>Questions?</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="thank_you/01_slide/2">
<h1>Thanks!</h1>

<p><a href="http://twitter.com/ctrabold">@ctrabold</a><br/>
<a href="http://christian-trabold.de">http://christian-trabold.de</a></p></div>
</div></div>

</body>
</html>
